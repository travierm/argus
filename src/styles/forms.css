@layer components {
	/* Form Group - Container for label + input/textarea */
	.form-group {
		@apply flex flex-col gap-1.5;
	}

	/* Labels */
	.form-label {
		@apply text-sm font-medium text-neutral-700 dark:text-neutral-300;
	}

	.form-label-error {
		@apply text-sm font-medium text-red-600 dark:text-red-400;
	}

	/* Base Input Styles */
	.input {
		/* Layout */
		@apply w-full px-3 py-2;
		min-height: 2.5rem;

		/* Appearance */
		@apply rounded-md border border-neutral-300 bg-white text-neutral-900;
		@apply dark:border-neutral-600 dark:bg-neutral-800 dark:text-white;
		font-size: 0.875rem;
		line-height: 1.25rem;

		/* States */
		transition: all 0.2s ease;

		/* Focus */
		&:focus {
			outline: none;
			border-color: transparent;
			box-shadow: 0 0 0 2px var(--color-primary);
		}

		/* Placeholder */
		&::placeholder {
			@apply text-neutral-400 dark:text-neutral-500;
		}

		/* Disabled */
		&:disabled {
			@apply cursor-not-allowed bg-neutral-100 text-neutral-500 dark:bg-neutral-900 dark:text-neutral-600;
			opacity: 0.6;
		}

		/* Readonly */
		&:read-only {
			@apply bg-neutral-50 dark:bg-neutral-900/50;
		}
	}

	/* Input Error State */
	.input-error {
		@apply border-red-500 dark:border-red-400;

		&:focus {
			@apply ring-red-500 dark:ring-red-400;
		}
	}

	/* Textarea Styles */
	.textarea {
		/* Inherit all input styles */
		@apply w-full px-3 py-2;
		min-height: 6rem;

		/* Appearance */
		@apply rounded-md border border-neutral-300 bg-white text-neutral-900;
		@apply dark:border-neutral-600 dark:bg-neutral-800 dark:text-white;
		font-size: 0.875rem;
		line-height: 1.5rem;
		resize: vertical;

		/* States */
		transition: all 0.2s ease;

		/* Focus */
		&:focus {
			outline: none;
			border-color: transparent;
			box-shadow: 0 0 0 2px var(--color-primary);
		}

		/* Placeholder */
		&::placeholder {
			@apply text-neutral-400 dark:text-neutral-500;
		}

		/* Disabled */
		&:disabled {
			@apply cursor-not-allowed bg-neutral-100 text-neutral-500 dark:bg-neutral-900 dark:text-neutral-600;
			opacity: 0.6;
			resize: none;
		}

		/* Readonly */
		&:read-only {
			@apply bg-neutral-50 dark:bg-neutral-900/50;
		}
	}

	/* Textarea Error State */
	.textarea-error {
		@apply border-red-500 dark:border-red-400;

		&:focus {
			@apply ring-red-500 dark:ring-red-400;
		}
	}

	/* Helper Text */
	.form-helper {
		@apply mt-1 text-xs text-neutral-500 dark:text-neutral-400;
	}

	.form-error-message {
		@apply mt-1 text-xs text-red-600 dark:text-red-400;
	}

	/* Size Variants */
	.input-sm,
	.textarea-sm {
		@apply px-2 py-1.5 text-xs;
		min-height: 2rem;
	}

	.textarea-sm {
		min-height: 4rem;
	}

	.input-lg,
	.textarea-lg {
		@apply px-4 py-3 text-base;
		min-height: 3rem;
	}

	.textarea-lg {
		min-height: 8rem;
	}

	/* Checkbox Styles */
	.checkbox {
		/* Layout */
		@apply h-4 w-4;
		flex-shrink: 0;

		/* Appearance */
		@apply cursor-pointer appearance-none rounded-md border-2 border-neutral-300 bg-white;
		@apply dark:border-neutral-600 dark:bg-neutral-800;
		transition: all 0.2s ease;

		/* Focus */
		&:focus {
			outline: none;
			box-shadow: 0 0 0 2px var(--color-primary);
		}

		/* Checked State */
		&:checked {
			border-color: var(--color-primary);
			background-color: var(--color-primary);
			background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
			background-size: 100% 100%;
			background-position: center;
			background-repeat: no-repeat;
		}

		/* Disabled */
		&:disabled {
			@apply cursor-not-allowed bg-neutral-100 dark:bg-neutral-900;
			opacity: 0.6;
		}

		/* Disabled + Checked */
		&:disabled:checked {
			@apply border-neutral-400 bg-neutral-400 dark:border-neutral-600 dark:bg-neutral-600;
		}
	}

	/* Checkbox Error State */
	.checkbox-error {
		@apply border-red-500 dark:border-red-400;

		&:focus {
			box-shadow: 0 0 0 2px rgb(239 68 68 / 0.5);
		}

		&:checked {
			border-color: #dc2626;
			background-color: #dc2626;
		}
	}

	/* Checkbox Group - for label + checkbox combinations */
	.checkbox-group {
		@apply flex items-start gap-2;
	}

	.checkbox-label {
		@apply cursor-pointer select-none text-sm text-neutral-700 dark:text-neutral-300;
	}

	.checkbox-label-disabled {
		@apply cursor-not-allowed text-neutral-500 dark:text-neutral-600;
		opacity: 0.6;
	}
}
